{% extends "shared/config.sales.html" %}

{% block contents %}
    <div class="container-fluid p-0 ">
        <div class="row">
            <div class="col-12">
                <div class="page_title_box d-flex align-items-center justify-content-between">
                    <div class="page_title_left">
                        <h3 class="f_s_30 f_w_700 text_white">Compte</h3>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class=" card_height_100 mb_20 ">
                    <form method="POST" enctype="multipart/form-data">
                        <div class="row justify-content-center">
                            <div class="col-md-4">
                                <div class="white_box mb_30">
                                    <div class="box_header ">
                                        <div class="main-title">
                                            <h3 class="mb-0">Photo de profil</h3>
                                        </div>
                                    </div>
                                    <div class="img-card" style="height:250px;gap:10px">
                                        <input type="file" id="fileInput" class="file-input" name="profil" hidden>
                                        <img class="img-e" id="imagePreview" src="{{ url_for('static', filename=session.user_connected.profil) }}" alt="" style="width:200px;height:200px;border-radius:50%;margin:0 auto;">
                                        <button type="button" class="btn_1 btn-e button-file" style="position:relative;">Changer</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="pCard_card">
                                    <div class="container-fluid p-0 sm_padding_15px">
                                        <div class="row justify-content-center">
                                            <div class="col-lg-12">
                                                <div class="white_card card_height_100 mb_30">
                                                    <div class="white_card_header">
                                                        <div class="box_header m-0">
                                                            <div class="main-title">
                                                                <h3 class="m-0">Informations</h3>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="white_card_body">
                                                        <div class="card-body">
                                                            <div class="table-span">
                                                                <div class="row mb-3">
                                                                    <div class="col-md-6">
                                                                        <label class="form-label" for="nom">Nom</label>
                                                                        {% if errors.nom %}
                                                                            <input type="text" class="form-control" id="nom" name="nom" value={{ request.form.nom }}>
                                                                            <span class="text_color_4 active">{{ errors.nom }}</span>
                                                                        {% else %}
                                                                            <input type="text" class="form-control" id="nom" name="nom" value={{ session.user_connected.nom }}>
                                                                        {% endif %}
                                                                    </div>
                                                                    <div class=" col-md-6">
                                                                        <label class="form-label" for="prenom">Prenom</label>
                                                                        {% if errors.prenom %}
                                                                            <input type="text" class="form-control" id="prenom" name="prenom" value="{{ request.form.prenom }}">
                                                                            <span class="text_color_4 active">{{ errors.prenom }}</span>
                                                                        {% else %}
                                                                            <input type="text" class="form-control" id="prenom" name="prenom" value="{{ session.user_connected.prenom }}">
                                                                        {% endif %}
                                                                    </div>
                                                                </div>
                                                                <div class="mb-3">
                                                                    <label class="form-label" for="contact">Contact</label>
                                                                    {% if errors.contact %}
                                                                        <input type="text" class="form-control" id="contact" name="contact" value="{{ request.form.contact}}">
                                                                        <span class="text_color_4 active">{{ errors.contact }}</span>
                                                                    {% else %}
                                                                        <input type="text" class="form-control" id="contact" name="contact" value="{{ session.user_connected.contact }}">
                                                                    {% endif %}
                                                                </div>
                                                                <div class="mb-3">
                                                                    <label class="form-label" for="addresse">Addresse</label>
                                                                    {% if errors.adresse %}
                                                                        <input type="text" class="form-control" id="addresse" name="adresse" value="{{ request.form.adresse }}">
                                                                        <span class="text_color_4 active">{{ errors.adresse }}</span>
                                                                    {% else %}
                                                                        <input type="text" class="form-control" id="addresse" name="adresse" value="{{ session.user_connected.adresse }}">
                                                                    {% endif %}
                                                                </div>
                                                                <div class="mb-3">
                                                                    <label class="form-label" for="mail">Email</label>
                                                                    {% if errors.mail %}
                                                                        <input type="email" class="form-control" id="mail" name="mail" value="{{ request.form.mail }}">
                                                                        <span class="text_color_4 active">{{ errors.mail }}</span>
                                                                    {% else %}
                                                                        <input type="email" class="form-control" id="mail" name="mail" value="{{ session.user_connected.mail }}">
                                                                    {% endif %}
                                                                </div>
                                                                
                                                                <div class="row mb-3">
                                                                    <div class="col-md-6">
                                                                        <label class="form-label" for="login">Login</label>
                                                                        <input type="text" class="form-control" id="login" value="{{ session.user_connected.mail }}" disabled>
                                                                    </div>
                                                                    <div class=" col-md-6">
                                                                        <label class="form-label" for="password">Mot de passe</label>
                                                                        {% if errors.password %}
                                                                            <input type="text" class="form-control" id="password" name="password" value="{{ request.form.password }}">
                                                                            <span class="text_color_4 active">{{ errors.password }}</span>
                                                                        {% else %}
                                                                            <input type="text" class="form-control" id="password" name="password" value="{{ session.user_connected.password }}">
                                                                        {% endif %}
                                                                    </div>
                                                                </div>

                                                                <button type="submit" class="btn btn-info text-white">Enregistrer</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock contents %}


{% block js %}
    {{ super() }}
    {% include "component/choose.file.html" %}
{% endblock js %}

